install.packages("rvest")
'+'+'2'
c('+','2')
cosmic <- html(paste(root, search_term))
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
?html
?read_html
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
cosmic
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
paste(root, search_term)
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
cosmic
cosmic %>% html_nodes('table') %>% .[[3]]
cosmic %>% html_nodes('table') %>% .[[4]]
cosmic %>% html_nodes('table') %>% .[[8]]
cosmic %>% html_nodes('table') %>% .[[10]]
cosmic %>% html_nodes('table') %>% .[[9]]
cosmic %>% html_nodes('table') %>% .[[9]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[8]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[7]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[6]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[5]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[4]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[3]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[2]] %>% html_table()
cosmic %>% html_nodes('table') %>% .[[1]] %>% html_table()
cosmic %>% html_nodes('td') %>% .[[1]] %>% html_table()
cosmic %>% html_nodes('td') %>% .[[1]] %>% html_text()
cosmic %>% html_nodes('td') %>% .[[10]] %>% html_text()
cosmic %>% html_nodes('td') %>% .[[20]] %>% html_text()
cosmic %>% html_nodes('td') %>% .[[30]] %>% html_text()
cosmic %>% html_nodes('td') %>% .[[25]] %>% html_text()
cosmic %>% html_nodes('td') %>% .[[20]] %>% html_text()
cosmic %>% html_nodes('sample_wrapper') %>% .[[20]] %>% html_text()
cosmic %>% html_nodes('sample_wrapper') %>% .[[1]] %>% html_text()
cosmic %>% html_nodes('#sample_wrapper') %>% .[[1]] %>% html_text()
print(cosmic)
print(cosmic)[1]
print(cosmic)[2]
cosmic$node
cosmic$doc
cosmic %>% html_nodes('#sample_wrapper')
cosmic %>% html_nodes('div')
cosmic %>% html_nodes('div') %>% .[[50]]
cosmic %>% html_nodes('div') %>% .[[25]]
cosmic %>% html_nodes('div') %>% .[[21]]
cosmic %>% html_nodes('div') %>% .[[22]]
cosmic %>% html_nodes('div') %>% .[[16]]
cosmic %>% html_nodes('div') %>% .[[11]]
cosmic %>% html_nodes('div') %>% .[[11]] %>% html_table()
cosmic %>% html_nodes('div') %>% .[[11]] %>% html_text()
cosmic %>% html_nodes('div') %>% .[[11]] %>% html_nodes('samp')
html_session()
html_session(paste(root, search_term, sep=''))
cosmic %>% html_nodes('div') %>% .[[11]] %>% html_nodes('.samp')
cosmic %>% html_nodes('')
cosmic %>% html_nodes('td, .highligh') %>% .[[1]] %>% html_text()
cosmic %>% html_nodes('td, .highlight') %>% .[[1]] %>% html_text()
cosmic %>% html_nodes('td, .highlight') %>% .[[3]] %>% html_text()
cosmic %>% html_nodes('td, .highlight') %>% .[[30]] %>% html_text()
cosmic %>% html_nodes('td, .highlight') %>% .[[20]] %>% html_text()
cosmic %>% html_nodes('td, .highlight') %>% .[[24]] %>% html_text()
cosmic %>% html_nodes('td, .highlight') %>% .[[25]] %>% html_text()
cosmic %>% html_nodes('#samples_wrapper') %>% .[[25]] %>% html_text()
cosmic %>% html_nodes('#samples_wrapper') %>% .[[1]] %>% html_text()
cosmic %>% html_nodes('div div') %>% .[[1]] %>% html_text()
cosmic %>% html_nodes('div div') %>% html_text()
cosmic %>% html_text()
grep(cosmic %>% html_text(), 'CHC'
')
grep(cosmic %>% html_text(), 'CHC')
?grep
grep('CHC', cosmic %>% html_text())
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
root <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
# rvest
crash <- read_html(root)
cosmic %>% html_node('td th') %>% .[[1]] %>% html_text()
cosmic %>% html_node('td, th') %>% .[[1]] %>% html_text()
cosmic %>% html_node('td , th') %>% .[[1]] %>% html_text()
cosmic %>% html_node('td , th') %>% .[[1]]
cosmic %>% html_node('td, th') %>% .[[1]]
cosmic %>% html_node('td, th') %>% .[[1]] %>% html_table()
cosmic %>% html_node('td') %>% .[[1]] %>% html_table()
crash %>% html_node('td') %>% .[[1]] %>% html_table()
crash %>% html_node('td, th') %>% .[[1]] %>% html_table()
crash %>% html_node('td, th') %>% .[[1]] %>% html_text()
crash %>% html_node('td th') %>% .[[1]] %>% html_text()
crash %>% html_node('td th') %>% .[[1]] %>% html_table()
crash %>% html_node('td th') %>% .[[1]] %>% html_text()
crash %>% html_node('td | th') %>% .[[1]] %>% html_text()
crash %>% html_node('td th') %>% .[[1]] %>% html_text()
crash %>% html_node('td th') %>% .[[2]] %>% html_text()
crash %>% html_node('td th') %>% .[[1]] %>% html_text()
crash %>% html_node('p') %>% .[[1]] %>% html_text()
crash %>% html_node('div div') %>% .[[1]] %>% html_text()
crash %>% html_node('div h1') %>% .[[1]] %>% html_text()
crash %>% html_node('div h1') %>% .[[1]]
crash %>% html_node('li a') %>% .[[1]] %>% html_text()
crash %>% html_node('li a') %>% .[[2]] %>% html_text()
crash %>% html_node('li a') %>% tml_text()
crash %>% html_node('li a') %>% html_text()
crash %>% html_node('.first-column') %>% html_text()
crash %>% html_node('table') %>% html_text()
crash %>% html_node('table') %>% .[[1]] %>% html_text()
crash %>% html_node('table') %>% .[[2]] %>% html_text()
crash %>% html_node('table') %>% html_table()
as.dataframe(crash %>% html_node('table') %>% html_table())
as.data.frame(crash %>% html_node('table') %>% html_table())
head(as.data.frame(crash %>% html_node('table') %>% html_table()))
names(as.data.frame(crash %>% html_node('table') %>% html_table())))
names(as.data.frame(crash %>% html_node('table') %>% html_table()))
names(as.data.frame(crash %>% html_node('!table') %>% html_table()))
names(as.data.frame(crash %>% html_node('table tbody') %>% html_table()))
names(as.data.frame(crash %>% html_node('tbody') %>% html_table()))
crash %>% html_node('tbody') %>% html_text()
as.dataframe(crash %>% html_node('tbody') %>% html_text())
crash %>% html_node('tbody') %>% html_tabl())
crash %>% html_node('tbody') %>% html_tabl()
crash %>% html_node('tbody') %>% html_table()
crash %>% html_node('table') %>% html_table()
as.dataframe(crash %>% html_node('table') %>% html_table())
a = as.data.frame(crash %>% html_node('table') %>% html_table())
a[2,]
a[3,]
a[,1]
a[,2]
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
fatalities
fatalities[-1,]
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
fatalities
dir(fatalities)
dim(fatalities)
names(fatalities)
names(fatalities[-1,])
fatalities = as.data.frame(crash %>% html_node('table') %>% html_table(), header=F)
names(fatalities
names(fatalities)
names(fatalities)
unname(fatalities)
unname(as.data.frame(crash %>% html_node('table') %>% html_table()))
fatalities <- unname(as.data.frame(crash %>% html_node('table') %>% html_table()))
colnames(fatalities) <- fatalities[1,]
fatalities <- fatalities[-1,]
fatalities
source('C:/dev/coursework/data_collecting_storing_retrieving/module06/Valentine_C_6A.R')
str(fatalities)
rm(list = ls())
table
fatalities <- read.csv2('fatalities.csv', sep=',', header=T)
head(fatalities)
head(fatalities)
fatalities <- read.csv2('fatalities.csv', sep=',', header=T)
head(fatalities)
fatalities <- read.csv2('fatalities.csv', sep=',', header=T)
head(fatalities)
library(rvest)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
# Parse first table on webpage with rvest and remove multi-column name.
fatalities <- unname(as.data.frame(read_html(url) %>% html_node('table') %>% html_table()))
# Rename columns with entries of first row then delete first row.
colnames(fatalities) <- fatalities[1,]
fatalities <- fatalities[-1,]
head(fatalities)
library(XML)
readHTMLTable(url)
tables <- readHTMLTable(url)
tables[1]
library(XML)
tables <- readHTMLTable(url)[1]
head(fatalities)
tables <- readHTMLTable(url)[1]
head(fatalities)
readHTMLTable()
readHTMLTable
rm(list = ls())
library(XML)
library(rvest)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
# Parse first table on webpage with rvest and remove multi-column name.
fatalities <- unname(as.data.frame(read_html(url) %>% html_node('table') %>% html_table()))
# Rename columns with entries of first row then delete first row.
colnames(fatalities) <- fatalities[1,]
fatalities <- fatalities[-1,]
head(fatalities)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
tables <- readHTMLTable(url)[1]
head(fatalities)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
fatalities <- readHTMLTable(url)[1]
rm(list = ls())
library(XML)
library(rvest)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
fatalities <- readHTMLTable(url)[1]
head(fatalities)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
fatalities <- readHTMLTable(url)[1]
#head(fatalities)
dim(fatalities)
length(fatalities)
fatalities
unname(fatalities)
str(unname(fatalities))
rm(list = ls())
library(XML)
library(rvest)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
fatalities <- unname(readHTMLTable(url)[[1]])
head(fatalities)
url <- 'http://www.iihs.org/iihs/topics/t/general-statistics/fatalityfacts/state-by-state-overview'
fatalities <- readHTMLTable(url)[[1]]
head(fatalities)
rm(list = ls())
library(XML)
library(rvest)
